<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<title>SOAPBX</title>
<meta charset="utf-8" />
<meta name="viewport"
	content="width=device-width, initial-scale=1, user-scalable=no" />
	<link rel="stylesheet" href="../../css/main.css" />
</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
				<header id="header" th:replace="fragments/header :: header"></header>

				<!-- Menu -->
				<section id="menu" th:replace="fragments/menu :: menu"></section>

				<!-- Main -->
				<div id="main">
					<div th:if="${message != null}">
							<p th:text="${message}"></p>
						</div>
					<th:block th:each="story : ${stories}">
						<article class="post">
							<header>
								<div class="title">
									<h2 th:text="${story.title}"></h2>
								</div>
								<div class="meta">
									<a th:href="@{|/profile/${story.ownerId}|}" class="author">
										<span class="name" th:text="${story.ownerName}">Jane Doe</span>
										<img th:src="@{|/user/${story.ownerId}/avatar|}" alt="" />
									</a>
									<time class="published" th:text="${story.friendlyDate}" >November 1, 2019</time>
								</div>
							</header>
							<p th:utext="${story.lede}">Lorem Ipsum</p>
							<footer>
								<ul class="actions">
									<li><a th:href="@{|/story/${story.id}|}" class="button large">Continue Reading</a></li>
								</ul>
								<ul class="stats">
									<li><div th:text="${story.categoryName}">General</div></li>
									<li><div class="icon solid fa-heart" th:text="${story.likeCount}">1</div></li>
									<li><div class="icon solid fa-comment" th:text="${story.commentCount}">1</div></li>
								</ul>
							</footer>
						</article>
					</th:block>

					<!-- Pagination -->
					<ul class="actions pagination" th:if="${stories.size() > 0 }">
						<th:block th:if="${page > 0}">
							<li><a th:href="@{|/index?page=${page-1}|}" class="button large previous">Previous Page</a></li>
						</th:block>
						<th:block th:unless="${page > 0}">
							<!-- <li><a href="#" class="disabled button large previous">Previous Page</a></li> -->
						</th:block>
						<th:block th:if="${stories.size() == 5}">
							<li><a th:href="@{|/index?page=${page+1}|}" class="button large next">Next Page</a></li>
						</th:block>
						<th:block th:unless="${stories.size() == 5}">
							<!--  li><a href="#" class="disabled button large next">Next Page</a></li> -->
						</th:block>
					</ul>
						
				</div>

				<!-- Sidebar -->
				<section id="sidebar">

					<!-- Intro -->
					<section id="intro" th:replace="fragments/sidebar :: intro"></section>

					<!-- About -->
					<section class="blurb" th:replace="fragments/sidebar :: blurb"></section>

					<!-- Footer -->
					<section id="footer" th:replace="fragments/footer :: footer"></section>

				</section>

			</div>

		<!-- Scripts -->
		<script src="../../js/jquery.min.js"></script>
		<script src="../../js/browser.min.js"></script>
		<script src="../../js/breakpoints.min.js"></script>
		<script src="../../js/util.js"></script>
		<script src="../../js/main.js"></script>
	</body>
</html>
